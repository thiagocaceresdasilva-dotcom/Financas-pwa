<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b1220" />
  <title>Finan√ßas</title>

  <link rel="manifest" href="./manifest.json" />
  <link rel="stylesheet" href="./styles.css" />

  <!-- OCR -->
  <script src="https://unpkg.com/tesseract.js@5/dist/tesseract.min.js"></script>
</head>

<body>
  <header class="topbar">
    <div class="topbar__title">Finan√ßas</div>
    <div class="topbar__actions">
      <button id="exportBtn">Exportar</button>
      <button id="importBtn">Importar</button>
    </div>
  </header>

  <main class="container">

    <!-- M√äS -->
    <section class="card">
      <div class="row space-between">
        <div>
          <label>M√™s</label>
          <input id="monthInput" type="month" />
        </div>
        <button id="generateFixed" class="success">Gerar fixos do m√™s</button>
      </div>
    </section>

    <!-- REALIZADO -->
    <section class="card">
      <h3>Realizado</h3>
      <div class="stats">
        <div class="stat">
          <span>Receitas</span>
          <strong id="realIncome">R$ 0,00</strong>
        </div>
        <div class="stat">
          <span>Despesas</span>
          <strong id="realExpense">R$ 0,00</strong>
        </div>
        <div class="stat">
          <span>Saldo</span>
          <strong id="realBalance">R$ 0,00</strong>
        </div>
      </div>
    </section>

    <!-- PREVISTO -->
    <section class="card">
      <h3>Previsto</h3>
      <div class="stats">
        <div class="stat">
          <span>Receitas</span>
          <strong id="planIncome">R$ 0,00</strong>
        </div>
        <div class="stat">
          <span>Despesas</span>
          <strong id="planExpense">R$ 0,00</strong>
        </div>
        <div class="stat">
          <span>Saldo</span>
          <strong id="planBalance">R$ 0,00</strong>
        </div>
      </div>
    </section>

    <!-- NOVO LAN√áAMENTO -->
    <section class="card">
      <h3>Novo lan√ßamento</h3>

      <div class="grid">
        <div>
          <label>Tipo</label>
          <select id="entryType">
            <option value="income">Receita</option>
            <option value="expense">Despesa</option>
          </select>
        </div>

        <div>
          <label>Status</label>
          <select id="entryStatus">
            <option value="planned">Previsto</option>
            <option value="realized">Realizado</option>
          </select>
        </div>

        <div>
          <label>Data</label>
          <input id="entryDate" type="date" />
        </div>

        <div>
          <label>Valor (R$)</label>
          <input id="entryAmount" type="number" step="0.01" />
        </div>

        <div>
          <label>Categoria</label>
          <select id="entryCategory">
            <option>Outras Despesas</option>
            <option>Alimenta√ß√£o</option>
            <option>Transporte</option>
            <option>Moradia</option>
            <option>Sa√∫de</option>
            <option>Outras Receitas</option>
          </select>
        </div>

        <div class="full">
          <label>Descri√ß√£o</label>
          <input id="entryDescription" placeholder="Ex: mercado, aluguel, combust√≠vel..." />
        </div>
      </div>

      <!-- OCR -->
      <div class="row gap">
        <input id="receiptFile" type="file" accept="image/*" capture="environment" />
        <button id="scanReceipt">üì∏ Ler cupom (OCR)</button>
      </div>

      <div id="ocrStatus" class="muted"></div>
      <img id="receiptPreview" />

      <button id="saveEntry" class="success full">Salvar</button>
    </section>

  </main>

  <script src="./db.js"></script>
  <script src="./app.js"></script>
</body>
</html>
